(function(t){function e(e){for(var r,s,o=e[0],l=e[1],c=e[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&m.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},n={app:0},i=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("85ec"),n=a.n(r);n.a},"06ac":function(t,e,a){"use strict";var r=a("b145"),n=a.n(r);n.a},"0b40":function(t,e,a){"use strict";var r=a("ac1c"),n=a.n(r);n.a},"1e72":function(t,e,a){"use strict";var r=a("ea76"),n=a.n(r);n.a},"1f89":function(t,e,a){},"206f":function(t,e,a){},2096:function(t,e,a){"use strict";var r=a("25b3"),n=a.n(r);n.a},2185:function(t,e,a){},"25b3":function(t,e,a){},"27b7":function(t,e,a){"use strict";var r=a("9a68"),n=a.n(r);n.a},"2ae3":function(t,e,a){},"2d6e":function(t,e,a){},"3eff":function(t,e,a){"use strict";var r=a("cd8d"),n=a.n(r);n.a},"41f87":function(t,e,a){"use strict";var r=a("b272"),n=a.n(r);n.a},"4f6d":function(t,e,a){"use strict";var r=a("5afd"),n=a.n(r);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-view")},i=[],s={name:"App"},o=s,l=(a("034f"),a("2877")),c=Object(l["a"])(o,n,i,!1,null,null,null),u=c.exports,d=a("5c96"),m=a.n(d),f=(a("0fae"),a("f5df1"),a("8c4f")),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-wrap clearfix"},[a("div",{staticClass:"navbar"},[t._m(0),a("div",{staticClass:"right"},[t.isLogin?a("el-avatar",{staticClass:"navbar-avatar",attrs:{icon:"el-icon-s-custom"}}):a("div",{staticClass:"login-btn"},[a("el-button",{staticClass:"btn-top",attrs:{type:"text"}},[a("router-link",{attrs:{to:"/login",tag:"span"}},[t._v("登录")])],1),a("el-button",{staticClass:"btn-top",attrs:{type:"text"}},[a("router-link",{attrs:{to:"/register",tag:"span"}},[t._v("注册")])],1)],1)],1),a("Navbar")],1),a("div",{staticClass:"content"},[a("router-view")],1)])},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left system-title"},[a("span",[t._v("蔬菜培育技术下乡系统")])])}],g=a("5530"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-wrap"},[a("el-menu",{staticClass:"navbar-content",attrs:{"default-active":t.ActiveIndex,"background-color":"#67C23A","text-color":"#fff","active-text-color":"#111",router:!0,mode:"horizontal"},on:{select:t.handleSelect}},t._l(t.menus,(function(e,r){return a("el-menu-item",{key:r,attrs:{index:e.route.path,route:e.route}},[t._v(" "+t._s(e.label)+" ")])})),1)],1)},b=[],y=(a("c975"),a("2f62")),C={name:"Navbar",data:function(){return{}},computed:Object(g["a"])({},Object(y["c"])(["ActiveIndex","menus"])),watch:{$route:function(t){-1!==this.menus.indexOf(t.path)&&this.setActiveIndex(t.path)}},methods:Object(g["a"])({},Object(y["d"])(["setActiveIndex"]),{handleSelect:function(t){this.setActiveIndex(t)}})},D=C,w=(a("27b7"),Object(l["a"])(D,v,b,!1,null,"74f18cd4",null)),x=w.exports,_={name:"Home",components:{Navbar:x},data:function(){return{activeIndex:"1"}},computed:Object(g["a"])({},Object(y["c"])(["isLogin"])),methods:{}},$=_,k=(a("6c57"),Object(l["a"])($,p,h,!1,null,"10595b03",null)),A=k.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"clearfix row"},[a("ArticleListPanel",{staticClass:"flex-row left",attrs:{title:"栽培方法",opretionBtn:{path:"/zaipeiArticle",label:"更多"},list:t.cultivation}}),a("el-carousel",{staticClass:"carousel left list-item",attrs:{height:"268px"}},t._l(4,(function(e){return a("el-carousel-item",{key:e},[a("h3",{staticClass:"small"},[t._v(t._s(e))])])})),1),a("ArticleListPanel",{staticClass:"flex-row right list-item",attrs:{title:"公告",opretionBtn:{path:"/notice",label:"更多"},list:t.notice}})],1),a("div",{staticClass:"clearfix row"},[a("ArticleListPanel",{staticClass:"flex-row left",attrs:{title:"病虫防治",opretionBtn:{path:"/bingchongArticle",label:"更多"},list:t.insect}})],1)])},P=[],L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-list"},[a("div",{staticClass:"list-header"},[a("span",{staticClass:"list-header_title"},[t._v(t._s(t.title))]),a("span",{staticClass:"right more"},[a("router-link",{attrs:{tag:"span",to:t.opretionBtn.path}},[t._v(t._s(t.opretionBtn.label)+" "),a("i",{staticClass:"el-icon-d-arrow-right"})])],1)]),a("div",{staticClass:"list-content"},t._l(t.list,(function(e,r){return a("div",{key:r,staticClass:"list-content_item"},[a("router-link",{attrs:{tag:"span",to:e.id}},[t._v(t._s(e.title))])],1)})),0)])},j=[],O={name:"ArticleList",props:{title:{type:String,default:""},opretionBtn:{type:Object,default:function(){return{path:"",label:"更多"}}},list:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{}}},I=O,R=(a("e967"),Object(l["a"])(I,L,j,!1,null,"4cbb0e2a",null)),E=R.exports,q={name:"Home",components:{ArticleListPanel:E},data:function(){return{cultivation:[{id:"",title:"栽培方法标题"},{id:"",title:"栽培方法标题"},{id:"",title:"栽培方法标题"},{id:"",title:"栽培方法标题"},{id:"",title:"栽培方法标题"}],insect:[{id:"",title:"病虫防治方法标题"},{id:"",title:"病虫防治方法标题"},{id:"",title:"病虫防治方法标题"},{id:"",title:"病虫防治方法标题"}],notice:[{id:"",title:"病虫防治方法标题"},{id:"",title:"病虫防治方法标题"},{id:"",title:"病虫防治方法标题"},{id:"",title:"病虫防治方法标题"}]}}},z=q,F=(a("2096"),Object(l["a"])(z,S,P,!1,null,"01fb63c1",null)),N=F.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("router-link",{staticClass:"name",attrs:{tag:"span",to:"/home"}},[t._v("蔬菜培育技术下乡系统")]),a("div",{staticClass:"title"},[t._v("登录")]),a("el-form",{ref:"loginForm",attrs:{model:t.loginForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"phone",rules:t.rules.phone}},[a("el-input",{staticClass:"form-field",attrs:{placeholder:"请输入用户名"},model:{value:t.loginForm.phone,callback:function(e){t.$set(t.loginForm,"phone",e)},expression:"loginForm.phone"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password",rules:t.rules.password}},[a("el-input",{staticClass:"form-field",attrs:{placeholder:"请输入密码",type:"password"},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1)],1),a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin(e)}}},[t._v("登录")]),a("div",{staticClass:"footer"},[t._v(" 没有账号？ "),a("router-link",{attrs:{to:"/register"}},[t._v("点击注册")])],1)],1)},T=[],M=(a("d3b7"),a("bc3a")),B=a.n(M),G={isLogin:localStorage.getItem("token"),token:localStorage.getItem("token"),userType:+localStorage.getItem("userType"),roleDesc:localStorage.getItem("roleDesc")},J={isLogin:function(t){return t.isLogin},userType:function(t){return t.userType},token:function(t){return t.token}},H={setLoginStatus:function(t,e){t.isLogin=!!e.token,t.token=e.token,t.userType=e.userType,t.roleDesc=e.roleDesc,localStorage.setItem("token",e.token),localStorage.setItem("userType",e.userType),localStorage.setItem("roleDesc",e.roleDesc)},logout:function(t){t.isLogin=!1,t.token="",t.userType="",t.roleDesc="",localStorage.removeItem("token"),localStorage.removeItem("userType"),localStorage.removeItem("roleDesc")}},X={actionLogin:function(t,e){var a=t.commit;a("setLoginStatus",e),a("setActiveIndex","/home"),a("iterationMenu",+e.userType),a("setArticleOptionsByRole",+e.userType)}},Q={state:G,getters:J,mutations:H,actions:X},K=(a("99af"),{activeIndex:localStorage.getItem("activeIndex")||"/home",menus:Y()}),V={ActiveIndex:function(t){return t.activeIndex},menus:function(t){return t.menus}},W={setActiveIndex:function(t,e){t.activeIndex=e,localStorage.setItem("activeIndex",e)},iterationMenu:function(t,e){t.menus=Y(e)}};function Y(t){var e=t||+localStorage.getItem("userType"),a=[],r=[{label:"文章管理",route:{path:"/ArticleManage"}},{label:"发布文章",route:{path:"/ArticlePublish"}}],n=r,i=[{label:"补贴申请",route:{path:"/Application"}},{label:"个人中心",route:{path:"/Mine"}}],s=[{label:"首页",route:{path:"/home"}},{label:"文章搜索",route:{path:"/articleSearch"}},{label:"病虫防治",route:{path:"/bingchongArticle"}},{label:"栽培方法",route:{path:"/zaipeiArticle"}},{label:"公告",route:{path:"/notice"}},{label:"下乡总结",route:{path:"/Summary"}}];return a=1===e?s.concat(r):2===e?s.concat(n):s.concat(i),a}var Z={state:K,getters:V,mutations:W},tt={articleOptions:rt()||[]},et={articleOptions:function(t){return t.articleOptions}},at={setArticleOptionsByRole:function(t,e){rt(e)}};function rt(t){var e=t||+localStorage.getItem("userType"),a=[];return a=1===e?[{label:"公告",value:"notice"},{label:"下乡总结",value:"summary"}]:[{label:"病虫防治",value:"bingchong"},{label:"栽培方法",value:"zaipei"},{label:"下乡总结",value:"summary"}],a}var nt={state:tt,getters:et,mutations:at};r["default"].use(y["a"]);var it=new y["a"].Store({modules:{login:Q,home:Z,article:nt}}),st=it,ot=st.getters.userType;B.a.defaults.baseURL="http://124.156.99.143:8099",B.a.defaults.withCredentials=!0,B.a.interceptors.request.use((function(t){return t.headers.token=st.getters.token,t}),(function(t){return Promise.reject(t)})),B.a.interceptors.response.use((function(t){return 401===t.data.code&&(st.commit({type:"logout"}),t.data.msg="登录过期",Ma.push("/home")),t}),(function(t){return Promise.reject(t)}));var lt={file:{uploadUrl:B.a.defaults.baseURL+"/common/upload",baseURL:B.a.defaults.baseURL},register:function(t){var e="/common/register";return B.a.post(e,t)},login:function(t){var e="/common/login";return B.a.post(e,t)},getSummaryArticleList:function(t){var e="/common/sumup";return B.a.get(e,{params:t})},addSummary:function(t){var e="/tech/sumup";return 1===ot&&(e="/admin/sumup"),B.a.post(e,t)},getSummaryDetail:function(t){var e="/common/sumup-detail";return B.a.get(e,{params:{id:t}})},getSearchArticleList:function(t){var e="/common/article/search";return B.a.get(e,{params:t})},getNoticeArticleList:function(t){var e="/common/notice";return B.a.get(e,{params:t})},getArticleList:function(t){var e="/common/article";return B.a.get(e,{params:t})},addNotice:function(t){var e="/admin/notice";return B.a.post(e,t)},getNoticeDetail:function(t){var e="/common/notice-detail";return B.a.get(e,{params:{id:t}})},getArticleDetail:function(t){var e="/common/article-detail";return B.a.get(e,{params:{id:t}})},addApply:function(t){var e="/user/apply";return B.a.post(e,t)},applyList:function(t){var e="/user/apply";return B.a.get(e,{params:t})},deleteApply:function(t){var e="/user/apply";return B.a.delete(e,{params:{id:t}})},modifyApply:function(t){var e="/user/apply";return B.a.put(e,t)},addComment:function(t){var e="/user/comment";return B.a.post(e,t)},addCollect:function(t){var e="/user/collect/"+t;return B.a.post(e)},deleteCollect:function(t){var e="/user/collect/"+t;return B.a.delete(e)},addArticle:function(t){var e="/tech/article";return B.a.post(e,t)},deleteArticle:function(t){var e="/tech/article";return B.a.delete(e,{params:{id:t}})},deleteSummary:function(t){var e="/tech/article/"+t;return B.a.delete(e)},deleteNotice:function(t){var e="/admin/notice/"+t;return B.a.delete(e)},getComment:function(t){var e="/user/comment/"+t.id;return B.a.get(e)},modifyPassword:function(t){var e="";return B.a.post(e,t)},getMyCollect:function(){}},ct=lt,ut={name:"Login",data:function(){return{loginForm:{phone:"",password:""},rules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:Object(g["a"])({},Object(y["b"])(["actionLogin"]),{handleLogin:function(){var t=this;this.$refs["loginForm"].validate((function(e){e&&ct.login(t.loginForm).then((function(e){0!==e.data.code?t.$message.error("密码或用户名错误"):(console.log("handleLogin -> res.data.data",e.data.data),t.actionLogin(e.data.data),t.$message.success("登录成功"),t.$router.push("/home"))})).catch((function(e){t.$message.error(e)}))}))}})},dt=ut,mt=(a("5a1e"),Object(l["a"])(dt,U,T,!1,null,"3defac18",null)),ft=mt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"name"},[t._v("蔬菜培育技术下乡系统")]),a("div",{staticClass:"title"},[t._v("注册")]),a("el-form",{ref:"form",attrs:{model:t.registerForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名",prop:"name",rules:t.rules.name}},[a("el-input",{staticClass:"form-field",attrs:{placeholder:"请输入用户名",maxlength:"10","show-word-limit":!0},model:{value:t.registerForm.name,callback:function(e){t.$set(t.registerForm,"name",e)},expression:"registerForm.name"}})],1),a("el-form-item",{attrs:{label:"手机",prop:"phone",rules:t.rules.phone}},[a("el-input",{staticClass:"form-field",attrs:{placeholder:"请输入密码",type:"text"},model:{value:t.registerForm.phone,callback:function(e){t.$set(t.registerForm,"phone",e)},expression:"registerForm.phone"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password",rules:t.rules.password}},[a("el-input",{staticClass:"form-field",attrs:{placeholder:"请输入密码",type:"password"},model:{value:t.registerForm.password,callback:function(e){t.$set(t.registerForm,"password",e)},expression:"registerForm.password"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"password2",rules:t.rules.password2}},[a("el-input",{staticClass:"form-field",attrs:{placeholder:"请输入密码",type:"password"},model:{value:t.registerForm.password2,callback:function(e){t.$set(t.registerForm,"password2",e)},expression:"registerForm.password2"}})],1),a("el-form-item",{attrs:{label:"身份证",prop:"cardId",rules:t.rules.cardId}},[a("el-input",{staticClass:"form-field",attrs:{placeholder:"请输入密码",type:"text"},model:{value:t.registerForm.cardId,callback:function(e){t.$set(t.registerForm,"cardId",e)},expression:"registerForm.cardId"}})],1)],1),a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.handleRegister}},[t._v("注册")]),a("div",{staticClass:"footer"},[t._v(" 已有账号？ "),a("router-link",{attrs:{to:"/login"}},[t._v("点击登录")])],1)],1)},ht=[],gt=(a("b0c0"),{name:"Register",data:function(){var t=this,e=function(t,e,a){if(!e)return a(new Error("请输入手机号"));var r=/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/;if(!r.test(e))return a(new Error("手机格式不正确"));a()},a=function(t,e,a){var r=/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/;if(e&&!r.test(e))return a(new Error("身份证格式不正确"));a()},r=function(e,a,r){return a?a.length<6||a.length>18?r(new Error("请输入6-18位长度的密码")):a&&t.registerForm.password!==a?r(new Error("两次输入密码不一致")):void r():r(new Error("请再次输入密码"))};return{registerForm:{name:"",phone:"",password:"",password2:"",cardId:""},rules:{password:[{required:!0,message:"请输入6-18位长度的密码",min:6,max:18,trigger:"blur"}],password2:[{required:!0,validator:r,trigger:"blur"}],phone:[{validator:e,required:!0,trigger:"change"}],cardId:[{validator:a,trigger:"change"}]}}},methods:{handleRegister:function(){var t=this;this.$refs["form"].validate((function(e){if(e){t.registerForm.password,t.registerForm.password2;var a={name:t.registerForm.name,phone:t.registerForm.phone,password:t.registerForm.password,cardId:t.registerForm.cardId};ct.register(a).then((function(e){console.log("handleRegister -> res",e),0!==e.data.code?t.$message.error(e.data.msg):(t.$message.success("注册成功"),t.$router.push("/login"))})).catch((function(e){t.$message.error(e)}))}}))}}}),vt=gt,bt=(a("721b"),Object(l["a"])(vt,pt,ht,!1,null,"52260273",null)),yt=bt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("article",{staticClass:"article-width article-search"},[a("header",{staticClass:"search-wrap"},[a("el-input",{attrs:{"suffix-icon":"el-icon-search",placeholder:"请输入文章标题或内容"},model:{value:t.titleSearch,callback:function(e){t.titleSearch=e},expression:"titleSearch"}})],1),a("ArticleList",{attrs:{list:t.articleList}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"clearfix"},[a("el-pagination",{staticClass:"pagenation right",attrs:{background:"","current-page":t.query.page,"page-size":20,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.query,"page",e)},"update:current-page":function(e){return t.$set(t.query,"page",e)}}})],1)],1)},Dt=[],wt=(a("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"article-list"},t._l(t.list,(function(e,r){return a("div",{key:r,staticClass:"article-list_item"},[a("div",{staticClass:"title"},[a("router-link",{attrs:{tag:"span",to:t.getPath(e)}},[t._v(t._s(e.title))])],1),a("div",{staticClass:"info"},[a("span",{staticClass:"author"},[t._v(t._s(e.authorName))]),a("span",{staticClass:"time"},[t._v(t._s(e.createTime))])])])})),0)}),xt=[],_t={name:"ArticleList",props:{list:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{getPath:function(t){return"/articleDetail/"+t.type+"/"+t.id}}},$t=_t,kt=(a("d8cb"),Object(l["a"])($t,wt,xt,!1,null,"0def9e53",null)),At=kt.exports,St={name:"ArticleSearch",components:{ArticleList:At},data:function(){return{total:0,query:{page:1,pageSize:10},titleSearch:"",timer:null,articleList:[]}},watch:{titleSearch:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout((function(){t.getData()}),300)}},methods:{getData:function(){var t=this;ct.getSearchArticleList(Object(g["a"])({},this.query,{content:this.titleSearch})).then((function(e){if(0===e.data.code){var a=e.data.data;t.articleList=a.records.map((function(t){return 2===t.type?t.type="bingchong":3===t.type&&(t.type="zaipei"),t})),t.total=a.total}else t.$message.error(e.data.msg)}),300).catch((function(e){t.$msgbox({type:"error",message:e})}))},handleCurrentChange:function(){this.getData()}}},Pt=St,Lt=(a("4f6d"),Object(l["a"])(Pt,Ct,Dt,!1,null,"b53c3800",null)),jt=Lt.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-detail article-width"},[a("el-page-header",{staticClass:"page-header",attrs:{content:"详情页面"},on:{back:t.goBack}}),a("div",{staticClass:"article-content"},[a("div",{staticClass:"field-row title"},[a("span",[t._v(t._s(t.articleDetail.title))])]),a("div",{staticClass:"field-row author clearfix"},[a("span",{staticClass:"left"},[t._v(t._s(t.articleDetail.authorName))]),a("span",{staticClass:"right"},[t._v(t._s(t.articleDetail.createTime))])]),a("div",{staticClass:"field-row"},[a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.articleDetail.content)}})]),a("div",{staticClass:"collect-btn"},[a("el-button",{attrs:{type:"primary",icon:t.collectIcon},on:{click:t.handleCollect}},[t._v("收藏文章")])],1)]),t.showComent?a("div",{staticClass:"comment"},[a("div",{staticClass:"add-comment"},[a("el-input",{attrs:{type:"textarea",autosize:t.autosize},model:{value:t.CommentContent,callback:function(e){t.CommentContent=e},expression:"CommentContent"}}),a("div",{staticClass:"add-comment-btn"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addComment}},[t._v("发送")])],1)],1),t._l(t.commentList,(function(e,r){return a("div",{key:r,staticClass:"comment-item"},[a("div",{staticClass:"comment-header"},[a("span",{staticClass:"name"},[t._v(t._s(e.userName))]),a("span",{staticClass:"time"},[t._v(t._s(e.createTime))])]),a("div",{staticClass:"comment-content"},[t._v(t._s(e.content))])])}))],2):t._e()],1)},It=[],Rt=(a("a9e3"),{name:"ArticleDetail",props:{type:{type:String,required:!0},id:{type:[String,Number],required:!0}},data:function(){return{collectIcon:"el-icon-star-off",articleDetail:{authorName:null,title:null,content:null,createTime:null},CommentContent:"",commentList:[],commentQuery:{page:1,pageSize:10},autosize:{minRows:4,maxRows:4}}},computed:Object(g["a"])({},Object(y["c"])(["userType"]),{showComent:function(){var t=this.type;return("bingchong"===t||"zaipei"===t||"summary"===t)&&3===this.userType}}),created:function(){this.getDetail(),this.showComent&&this.getComment()},methods:{goBack:function(){this.$router.go(-1)},showError:function(t){this.$msgbox({type:"error",message:t})},getDetail:function(){var t=this;"notice"===this.type?ct.getNoticeDetail(this.id).then((function(e){t.articleDetail=e.data.data})).catch((function(e){t.showError(e)})):"bingchong"===this.type||"zaipei"===this.type?ct.getArticleDetail(this.id).then((function(e){t.articleDetail=e.data.data})).catch((function(e){t.showError(e)})):"summary"===this.type&&ct.getSummaryDetail(this.id).then((function(e){t.articleDetail=e.data.data})).catch((function(e){t.showError(e)}))},getComment:function(){var t=this;ct.getComment({id:this.id}).then((function(e){t.commentList=e.data.data})).catch((function(e){t.showError(e)}))},addComment:function(){var t=this;ct.addComment({articleId:+this.id,content:this.CommentContent}).then((function(t){t.data.code})).catch((function(e){t.showError(e)}))},handleCollect:function(){var t=this;"el-icon-star-off"===this.collectIcon?ct.addCollect(this.id).then((function(e){0!==e.data.code||t.collectIcon})).catch((function(e){t.showError(e)})):ct.deleteCollect(this.id).then((function(e){0!==e.data.code||t.collectIcon})).catch((function(e){t.showError(e)}))}}}),Et=Rt,qt=(a("df51"),Object(l["a"])(Et,Ot,It,!1,null,"20e8544c",null)),zt=qt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-width"},[a("ArticlePage",{attrs:{list:t.articleList,title:"公告",total:t.total,"current-page":t.query.page},on:{"current-change":t.handleCurrentChange}})],1)},Nt=[],Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-page"},[a("div",{staticClass:"article-page_title"},[t._v(t._s(t.title))]),a("ArticleList",{attrs:{list:t.list}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"clearfix"},[a("el-pagination",{staticClass:"pagenation right",attrs:{background:"","current-page":t.currentPage,"page-size":t.pageSize,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)},Tt=[],Mt={name:"ArticlePage",components:{ArticleList:At},props:{title:{type:String,default:""},list:{type:Array,default:function(){return[]}},total:{type:Number,default:0},currentPage:{type:Number,default:1},pageSize:{type:Number,default:20}},data:function(){return{}},methods:{handleCurrentChange:function(t){this.$emit("currentChange",t)}}},Bt=Mt,Gt=(a("1e72"),Object(l["a"])(Bt,Ut,Tt,!1,null,"87d8f81c",null)),Jt=Gt.exports,Ht={name:"notice",components:{ArticlePage:Jt},data:function(){return{total:100,query:{page:1,pageSize:10},articleList:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this;ct.getNoticeArticleList(this.query).then((function(e){if(0!==e.data.code)return Promise.reject(e.data.msg);var a=e.data.data;t.articleList=a.records.map((function(t){return t.type="notice",t})),t.total=a.total})).catch((function(e){t.$msgbox({type:"error",message:e})}))},handleCurrentChange:function(t){this.query.page=t,this.getData()}}},Xt=Ht,Qt=Object(l["a"])(Xt,Ft,Nt,!1,null,"d44c0002",null),Kt=Qt.exports,Vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-width"},[a("ArticlePage",{attrs:{list:t.articleList,title:"下乡总结",total:t.total,"current-page":t.query.page},on:{"current-change":t.handleCurrentChange}})],1)},Wt=[],Yt={name:"notice",components:{ArticlePage:Jt},data:function(){return{total:100,query:{page:1,pageSize:10},articleList:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this;ct.getSummaryArticleList(this.query).then((function(e){if(0!==e.data.code)return Promise.reject(e.code.msg);var a=e.data.data;t.articleList=a.records.map((function(t){return t.type="summary",t})),t.total=a.total})).catch((function(e){t.$msgbox({type:"error",message:e})}))},handleCurrentChange:function(t){this.query.page=t,this.getData()}}},Zt=Yt,te=Object(l["a"])(Zt,Vt,Wt,!1,null,"7204ccee",null),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-width"},[a("ArticlePage",{attrs:{list:t.articleList,title:"病虫防治",total:t.query.total,"current-page":t.query.currentPage},on:{"current-change":t.handleCurrentChange}})],1)},re=[],ne={name:"notice",components:{ArticlePage:Jt},data:function(){return{total:100,query:{page:1,pageSize:10},articleList:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this;ct.getArticleList(Object(g["a"])({},this.query,{type:2})).then((function(e){t.articleList=e.data.data.records.map((function(t){return t.type="bingchong",t})),t.total=e.data.data.total})).catch((function(e){t.$msgbox({type:"error",message:e})}))},handleCurrentChange:function(){this.getData()}}},ie=ne,se=(a("0b40"),Object(l["a"])(ie,ae,re,!1,null,"0e3ffadc",null)),oe=se.exports,le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-width"},[a("ArticlePage",{attrs:{list:t.articleList,title:"栽培方法",total:t.total,"current-page":t.query.page},on:{"current-change":t.handleCurrentChange}})],1)},ce=[],ue={name:"notice",components:{ArticlePage:Jt},data:function(){return{total:0,query:{page:1,pageSize:10},articleList:[]}},created:function(){this.getData()},methods:{getData:function(){var t=this;ct.getArticleList(Object(g["a"])({},this.query,{type:3})).then((function(e){t.articleList=e.data.data.records.map((function(t){return t.type="zaipei",t})),t.total=e.data.data.total})).catch((function(e){t.$msgbox({type:"error",message:e})}))},handleCurrentChange:function(){this.getData()}}},de=ue,me=Object(l["a"])(de,le,ce,!1,null,"1b4efa32",null),fe=me.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-publish article-width"},[a("div",{staticClass:"thumbnail right"},[a("span",{staticClass:"thumbnail-label"},[t._v("上传缩略图：")]),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.getUploadUrl(),"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.formData.thumbnail?a("img",{staticClass:"avatar",attrs:{src:t.formData.thumbnail}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("div",{staticClass:"left"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:t.formData,"label-width":"80px","label-position":"left"}},[a("el-form-item",{attrs:{label:"文章分类",prop:"category",rules:t.rules.category}},[a("el-select",{staticClass:"form-field",attrs:{placeholder:"请选择文章分类"},model:{value:t.formData.category,callback:function(e){t.$set(t.formData,"category",e)},expression:"formData.category"}},t._l(t.articleOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"标题",prop:"title",rules:t.rules.title}},[a("el-input",{staticClass:"form-filed",attrs:{placeholder:"请输入标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1)],1)],1),a("div",{staticClass:"editor-wrap clearfix"},[a("div",{ref:"editor",staticClass:"editor"})]),a("div",{staticClass:"footer"},[a("el-button",{on:{click:t.handleReset}},[t._v("重 置")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleSave}},[t._v("保 存")])],1)])},he=[],ge=a("1a0b"),ve=a.n(ge),be={name:"ArticlePublish",data:function(){return{baseURL:ct.file.baseURL,editor:null,formData:{category:null,title:null,author:null,content:null},rules:{category:[{required:!0,message:"请选择文章分类",trigger:"blur"}],title:[{required:!0,message:"请输入标题",trigger:"blur"}],author:[{required:!0,message:"请输入作者",trigger:"blur"}]}}},computed:Object(g["a"])({},Object(y["c"])(["articleOptions"]),{showAuthor:function(){return"notice"!==this.formData.category}}),mounted:function(){this.initEditor()},methods:{getUploadUrl:function(){return ct.file.uploadUrl},handleAvatarSuccess:function(t){this.formData.thumbnail=this.baseURL+t.data},beforeAvatarUpload:function(t){var e=-1!==["image/jpeg","image/png","image/jpg","image/bmp"].indexOf(t.type),a=t.size/1024/1024<1;return e||this.$message.error("上传图片只能是 JPG/JPEG/PNG 格式!"),a||this.$message.error("上传图片大小不能超过 1MB!"),e&&a},handleReset:function(){this.$refs["form"].resetFields(),this.editor.txt.html("<p><br></p>")},handleSave:function(){var t=this;this.$refs["form"].validate((function(e){if(e)if(t.formData.content&&"<p><br></p>"!==t.formData.content){var a=t.formData.category;if("bingchong"===a)ct.addArticle({type:3,title:t.formData.title,coverImg:t.formData.thumbnail,content:t.formData.content}).then((function(t){if(0!==t.data.code)return Promise.reject(t.code.msg)})).catch((function(e){t.$msgbox({type:"error",message:e})}));else if("zaipei"===a)ct.addArticle({type:3,title:t.formData.title,coverImg:t.formData.thumbnail,content:t.formData.content}).then((function(t){if(0!==t.data.code)return Promise.reject(t.code.msg)})).catch((function(e){t.$msgbox({type:"error",message:e})}));else if("summary"===a){var r={time:new Date,title:t.formData.title,coverImg:t.formData.thumbnail,content:t.formData.content};ct.addSummary(r).then((function(t){if(0!==t.data.code)return Promise.reject(t.code.msg)})).catch((function(e){t.$msgbox({type:"error",message:e})}))}else if("notice"===a){var n={title:t.formData.title,coverImg:t.formData.thumbnail,content:t.formData.content};ct.addNotice(n).then((function(e){if(0!==e.data.code)return Promise.reject(e.code.msg);t.$message.success("保存成功"),t.$refs.form.resetFields(),t.editor.$txt.html("<p><br/></p>")})).catch((function(e){t.$msgbox({type:"error",message:e})}))}}else t.$message.error("请输入正文内容")}))},initEditor:function(){var t=this;this.editor=new ve.a(this.$refs["editor"]);var e=this.editor;e.customConfig.pasteFilterStyle=!1,e.customConfig.uploadImgServer=this.getUploadUrl(),e.customConfig.uploadImgMaxSize=1048576,e.customConfig.withCredentials=!0,e.customConfig.uploadImgHooks={error:function(){t.$message.error("上传出错，请重新上传")}},e.customConfig.onchange=function(e){t.formData.content=e},e.create()}}},ye=be,Ce=(a("59f8"),Object(l["a"])(ye,pe,he,!1,null,"2613c450",null)),De=Ce.exports,we=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap article-width"},[a("div",{staticClass:"header"},[a("label",[t._v("文章分类：")]),a("el-select",{on:{change:t.handleTypeChange},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.articleOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{staticClass:"table"},[a("el-table",{attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{prop:"title",label:"标题","min-width":"200px"}}),a("el-table-column",{attrs:{prop:"authorName",label:"作者","min-width":"80px"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","min-width":"100px"}}),a("el-table-column",{attrs:{label:"操作","min-width":"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleModify(e.row)}}},[t._v("修改")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleDelete(e.row)}}},[t._v("删除")]),1===e.row.status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handlePublish(e.row)}}},[t._v("发布")]):a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleCancelPublish(e.row)}}},[t._v("取消发布")])]}}])})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticClass:"clearfix"},[a("el-pagination",{staticClass:"pagenation right",attrs:{background:"","current-page":t.query.page,"page-size":t.query.pageSize,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)])},xe=[],_e={name:"ArticleManage",data:function(){return{total:0,type:"summary",query:{page:1,pageSize:10},tableData:[]}},computed:Object(g["a"])({},Object(y["c"])(["articleOptions"])),created:function(){this.getData()},methods:{handleError:function(t){this.$msgbox({type:"error",message:t})},handleDeleteSuccess:function(t){0===t.data.code?this.$msgbox({type:"success",message:"删除成功"}):console.error(t.data.msg)},getData:function(){var t=this,e=this.type;"bingchong"===e?ct.getArticleList(Object(g["a"])({},this.query,{type:2})).then((function(e){if(0!==e.data.code)return Promise.reject(e.data.msg);var a=e.data.data;t.tableData=a.records,t.total=a.total})).catch((function(e){t.$msgbox({type:"error",message:e})})):"zaipei"===e?ct.getArticleList(Object(g["a"])({},this.query,{type:3})).then((function(e){if(0!==e.data.code)return Promise.reject(e.data.msg);var a=e.data.data;t.tableData=a.records,t.total=a.total})).catch((function(e){t.$msgbox({type:"error",message:e})})):"summary"===e?ct.getSummaryArticleList(this.query).then((function(e){if(0!==e.data.code)return Promise.reject(e.data.msg);var a=e.data.data;t.tableData=a.records,t.total=a.total})).catch((function(e){t.$msgbox({type:"error",message:e})})):"notice"===e&&ct.getNoticeArticleList(this.query).then((function(e){if(0!==e.data.code)return Promise.reject(e.data.msg);var a=e.data.data;t.tableData=a.records,t.total=a.total})).catch((function(e){t.$msgbox({type:"error",message:e})}))},handleTypeChange:function(){this.query.page=1,this.getData()},handleCurrentChange:function(t){this.query.page=t,this.getData()},handleDelete:function(t){var e=this;"bingchong"===this.type||"zaipei"===this.type?ct.deleteArticle(t.id).then((function(t){return e.handleDeleteSuccess(t)})).catch((function(t){e.handleError(t)})):"summary"===this.type?ct.deleteSummary(t.id).then((function(t){return e.handleDeleteSuccess(t)})).catch((function(t){e.handleError(t)})):"notice"===this.type&&ct.deleteNotice(t.id).then((function(t){return e.handleDeleteSuccess(t)})).catch((function(t){e.handleError(t)}))},handleModify:function(t){this.$router.push("/ArticleReedit/"+this.type+"/"+t.id)},handlePublish:function(t){ct.getArticleList(t.id).then().catch((function(t){console.log(t)}))},handleCancelPublish:function(t){ct.getArticleList(t.id).then().catch((function(t){console.log(t)}))}}},$e=_e,ke=(a("a1d0"),Object(l["a"])($e,we,xe,!1,null,"9f61dd86",null)),Ae=ke.exports,Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-publish article-width"},[a("div",{staticClass:"coverImg right"},[a("span",{staticClass:"coverImg-label"},[t._v("上传缩略图：")]),a("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.getUploadUrl(),"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[t.formData.coverImg?a("img",{staticClass:"avatar",attrs:{src:t.formData.coverImg}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),a("div",{staticClass:"left"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:t.formData,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"文章分类",prop:"category",rules:t.rules.category}},[a("el-select",{staticClass:"form-field",attrs:{placeholder:"请选择文章分类"},model:{value:t.formData.category,callback:function(e){t.$set(t.formData,"category",e)},expression:"formData.category"}},t._l(t.articleOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"标题",prop:"title",rules:t.rules.title}},[a("el-input",{staticClass:"form-filed",attrs:{placeholder:"请输入标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1)],1)],1),a("div",{staticClass:"editor-wrap clearfix"},[a("div",{ref:"editor",staticClass:"editor"})]),a("div",{staticClass:"footer"},[a("el-button",{on:{click:t.handleReset}},[t._v("重 置")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleSave}},[t._v("保 存")])],1)])},Pe=[],Le={name:"ArticlePublish",props:{id:{type:String,default:""},type:{type:String,default:""}},data:function(){return{baseURL:ct.file.baseURL,editor:null,formData:{category:null,title:null,authorName:null,content:null,coverImg:null},rules:{category:[{required:!0,message:"请选择文章分类",trigger:"blur"}],title:[{required:!0,message:"请输入标题",trigger:"blur"}],authorName:[{required:!0,message:"请输入作者",trigger:"blur"}]}}},computed:Object(g["a"])({},Object(y["c"])(["articleOptions"])),mounted:function(){this.initEditor(),this.getDetail()},methods:{getUploadUrl:function(){return ct.file.uploadUrl},showError:function(t){this.$msgbox({type:"error",message:t})},handleAvatarSuccess:function(t){this.formData.coverImg=this.baseURL+t.data},beforeAvatarUpload:function(t){var e=-1!==["image/jpeg","image/png","image/jpg","image/bmp"].indexOf(t.type),a=t.size/1024/1024<1;return e||this.$message.error("上传图片只能是 JPG/JPEG/PNG 格式!"),a||this.$message.error("上传图片大小不能超过 1MB!"),e&&a},handleReset:function(){this.$refs["form"].resetFields(),this.editor.txt.html("<p><br></p>")},handleSave:function(){var t=this;this.$refs["form"].validate((function(e){if(e)if(t.formData.content&&"<p><br></p>"!==t.formData.content)if("bingchong"===t.type||"zaipei"===t.type){var a="bingchong"===t.type?2:3;ct.addArticle({id:t.id,type:a,title:t.formData.title,coverImg:t.formData.coverImg,content:t.formData.content}).then((function(e){0===e.data.code&&t.$msgbox({type:"success",message:"保存成功"})})).catch((function(e){t.showError(e)}))}else"summary"===t.type?ct.addSummary({id:t.id,time:new Date,title:t.formData.title,coverImg:t.formData.coverImg,content:t.formData.content}).then((function(e){0===e.data.code&&t.$msgbox({type:"success",message:"保存成功"})})).catch((function(e){t.showError(e)})):"notice"===t.type&&ct.addNotice({id:t.id,title:t.formData.title,coverImg:t.formData.coverImg,content:t.formData.content}).then((function(e){0===e.data.code&&t.$msgbox({type:"success",message:"保存成功"})})).catch((function(e){t.showError(e)}));else t.$message.error("请输入正文内容")}))},getDetail:function(){var t=this;"notice"===this.type||"bingchong"===this.type||"zaipei"===this.type?ct.getNoticeDetail(this.id).then((function(e){t.formData=e.data.data})).catch((function(e){t.showError(e)})):"summary"===this.type&&ct.getSummaryDetail(this.id).then((function(e){t.formData=e.data.data})).catch((function(e){t.showError(e)}))},initEditor:function(){var t=this;this.editor=new ve.a(this.$refs["editor"]);var e=this.editor;e.customConfig.pasteFilterStyle=!1,e.customConfig.uploadImgServer=this.getUploadUrl(),e.customConfig.uploadImgMaxSize=1048576,e.customConfig.withCredentials=!0,e.customConfig.uploadImgHooks={error:function(){t.$message.error("上传出错，请重新上传")}},e.customConfig.onchange=function(e){t.formData.content=e},e.create()}}},je=Le,Oe=(a("3eff"),Object(l["a"])(je,Se,Pe,!1,null,"2d876e1c",null)),Ie=Oe.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-width wrap"},[a("el-tabs",{staticStyle:{height:"200px"},attrs:{"tab-position":"left tabs"},on:{"tab-click":t.recordClick}},[a("el-tab-pane",{attrs:{label:"提交申请"}},[a("edit")],1),a("el-tab-pane",{attrs:{label:"我的申请记录"}},[a("record",{ref:"record"})],1)],1)],1)},Ee=[],qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"records"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isReedit,expression:"!isReedit"}],staticClass:"list"},t._l(t.list,(function(e,r){return a("el-card",{key:r},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-button",{staticStyle:{padding:"3px 0"},attrs:{type:"text"},on:{click:function(a){return t.handleDelete(e)}}},[t._v("删除")]),a("span",{staticClass:"split"},[t._v("|")]),a("el-button",{staticStyle:{padding:"3px 0"},attrs:{type:"text"},on:{click:function(a){return t.handleModify(e)}}},[t._v("修改")])],1),a("div",{staticClass:"box-card"},[a("div",{staticClass:"flex-item"},[t._v("姓名："+t._s(e.userName))]),a("div",{staticClass:"flex-item"},[a("el-timeline",[a("el-timeline-item",{attrs:{color:t._f("colorFilter")(e.status)}},[t._v(t._s(t._f("statusFilter")(e.status)))])],1)],1),a("div",{staticClass:"flex-item"},[t._v("电话："+t._s(e.phone))]),a("div",{staticClass:"flex-item amount"},[t._v("亩数："+t._s(e.amount))]),a("div",{staticClass:"flex-item"},[t._v("地址："+t._s(e.address))])])])})),1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total>0&&!t.isReedit,expression:"total > 0 && !isReedit"}],staticClass:"clearfix"},[a("el-pagination",{staticClass:"pagenation right",attrs:{background:"","current-page":t.query.page,"page-size":t.query.pageSize,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t.isReedit?a("reedit",{attrs:{detail:t.detail},on:{close:t.closeReedit}}):t._e()],1)},ze=[],Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"record"},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"80px",size:"small"}},[a("el-form-item",{attrs:{prop:"userName",label:"姓名：",rules:t.formDataRules.userName}},[a("el-input",{attrs:{placeholder:"请输入你的姓名"},model:{value:t.formData.userName,callback:function(e){t.$set(t.formData,"userName",e)},expression:"formData.userName"}})],1),a("el-form-item",{attrs:{prop:"phone",label:"电话：",rules:t.formDataRules.phone}},[a("el-input",{attrs:{placeholder:"请输入你的电话"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),a("el-form-item",{attrs:{prop:"address",label:"地址：",rules:t.formDataRules.address}},[a("el-input",{attrs:{placeholder:"请输入你的地址"},model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}})],1),a("el-form-item",{attrs:{prop:"amount",label:"亩数：",rules:t.formDataRules.amount}},[a("el-input",{attrs:{placeholder:"请输入你的亩数"},model:{value:t.formData.amount,callback:function(e){t.$set(t.formData,"amount",t._n(e))},expression:"formData.amount"}})],1),a("el-form-item",{attrs:{prop:"applyReason",label:"理由：",rules:t.formDataRules.applyReason}},[a("el-input",{attrs:{placeholder:"请输入你的理由",type:"textarea",autosize:t.autosize},model:{value:t.formData.applyReason,callback:function(e){t.$set(t.formData,"applyReason",e)},expression:"formData.applyReason"}})],1)],1),a("div",{staticClass:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.handBack}},[t._v("返 回")]),a("el-button",{attrs:{size:"small"},on:{click:t.handleReset}},[t._v("重 置")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleSave}},[t._v("保 存")])],1)],1)},Ne=[],Ue=(a("a434"),{name:"edit",props:{detail:{required:!0,type:Object}},data:function(){var t=function(t,e,a){if(!e)return a(new Error("请输入手机号"));var r=/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/;if(!r.test(e))return a(new Error("手机格式不正确"));a()};return{baseURL:ct.file.baseURL,formData:this.detail,id:this.detail.id,formDataRules:{userName:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{validator:t,required:!0,trigger:"change"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],amount:[{required:!0,message:"请输入亩数",trigger:"blur"},{type:"number",message:"只能输入数字",trigger:"change"}],applyReason:[{required:!0,message:"请输入理由",trigger:"blur"}]},autosize:{minRows:6,maxRows:10}}},methods:{getUploadUrl:function(){return ct.file.uploadUrl},handleAvatarSuccess:function(t,e,a){e.url=this.baseURL+t.data,this.formData.fileList=a},handleRemove:function(t){var e=this.formData.fileList.indexOf(t);this.formData.fileList.splice(e,1)},handBack:function(){this.$emit("close")},handleSave:function(){var t=this;this.$refs.form.validate((function(e){if(e){var a={id:t.formData.id,userName:t.formData.userName,phone:t.formData.phone,address:t.formData.address,amount:t.formData.amount,applyReason:t.formData.applyReason};ct.modifyApply(a).then((function(e){if(0!==e.data.code)return Promise.reject(e.data.msg);t.$msgbox({type:"success",message:"修改成功"}),t.handBack()})).catch((function(e){t.$msgbox({type:"error",message:e})}))}}))},handleReset:function(){this.$refs["form"].resetField()}}}),Te=Ue,Me=(a("70d9"),Object(l["a"])(Te,Fe,Ne,!1,null,"7fea5b32",null)),Be=Me.exports,Ge={name:"record",components:{reedit:Be},data:function(){return{detail:{},isReedit:!1,list:[{id:12,userId:3,userName:"张某",phone:"13799999999",address:"广州市",amount:"六亩",applyReason:"房地产开发",content:null,status:1,statusDesc:"申请中",authName:null,refuseDesc:null,createTime:"2020-04-08T02:31:30.000+0000",updateTime:"2020-04-08T02:31:30.000+0000"}],total:0,query:{page:1,pageSize:10}}},filters:{statusFilter:function(t){var e="审核中";switch(t){case 2:e="退回";break;case 3:e="审核通过";break;default:e="审核中"}return e},colorFilter:function(t){var e="#E6A23C";switch(t){case 2:e="#F56C6C";break;case 3:e="#67C23A";break;default:e="#E6A23C"}return e}},methods:{getData:function(){var t=this;ct.applyList(this.query).then((function(e){if(0!==e.data.code)return Promise.reject(e.data.msg);t.total=e.data.data.total,t.list=e.data.data.records})).catch((function(e){t.$msgbox({type:"error",message:e})}))},handleCurrentChange:function(t){this.query.page=t,this.getData()},closeReedit:function(){this.isReedit=!1},handleDelete:function(t){var e=this;this.$msgbox({type:"warning",message:"确定要删除吗？",showCancelButton:!0}).then((function(){ct.deleteApply(t.id).then((function(t){0===t.data.code&&(e.$message({type:"success",message:"删除成功"}),e.getData())})).catch((function(t){e.$msgbox({type:"error",message:t})}))})).catch((function(){}))},handleModify:function(t){this.detail=t,this.isReedit=!0}}},Je=Ge,He=(a("06ac"),Object(l["a"])(Je,qe,ze,!1,null,"296cbafe",null)),Xe=He.exports,Qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"record"},[a("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"80px",size:"small"}},[a("el-form-item",{attrs:{prop:"name",label:"姓名：",rules:t.formDataRules.name}},[a("el-input",{attrs:{placeholder:"请输入你的姓名"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{prop:"phone",label:"电话：",rules:t.formDataRules.phone}},[a("el-input",{attrs:{placeholder:"请输入你的电话"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),a("el-form-item",{attrs:{prop:"address",label:"地址：",rules:t.formDataRules.address}},[a("el-input",{attrs:{placeholder:"请输入你的地址"},model:{value:t.formData.address,callback:function(e){t.$set(t.formData,"address",e)},expression:"formData.address"}})],1),a("el-form-item",{attrs:{prop:"amount",label:"亩数：",rules:t.formDataRules.amount}},[a("el-input",{attrs:{placeholder:"请输入你的亩数"},model:{value:t.formData.amount,callback:function(e){t.$set(t.formData,"amount",t._n(e))},expression:"formData.amount"}})],1),a("el-form-item",{attrs:{prop:"reason",label:"理由：",rules:t.formDataRules.reason}},[a("el-input",{attrs:{placeholder:"请输入你的理由",type:"textarea",autosize:t.autosize},model:{value:t.formData.reason,callback:function(e){t.$set(t.formData,"reason",e)},expression:"formData.reason"}})],1),t._e()],1),a("div",{staticClass:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:t.handleReset}},[t._v("重 置")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleSave}},[t._v("保 存")])],1)],1)},Ke=[],Ve={name:"edit",data:function(){var t=function(t,e,a){if(!e)return a(new Error("请输入手机号"));var r=/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/;if(!r.test(e))return a(new Error("手机格式不正确"));a()};return{baseURL:ct.file.baseURL,formData:{name:null,phone:null,address:null,amount:null,reason:null,fileList:[]},formDataRules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],phone:[{validator:t,required:!0,trigger:"change"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],amount:[{required:!0,message:"请输入亩数",trigger:"blur"},{type:"number",message:"只能输入数字",trigger:"change"}],reason:[{required:!0,message:"请输入理由",trigger:"blur"}]},autosize:{minRows:6,maxRows:10}}},methods:{getUploadUrl:function(){return ct.file.uploadUrl},handleAvatarSuccess:function(t,e,a){e.url=this.baseURL+t.data,this.formData.fileList=a},handleRemove:function(t){var e=this.formData.fileList.indexOf(t);this.formData.fileList.splice(e,1)},handleSave:function(){var t=this;this.$refs.form.validate((function(e){if(e){var a={userName:t.formData.name,phone:t.formData.phone,address:t.formData.address,amount:t.formData.amount,applyReason:t.formData.reason};ct.addApply(a).then((function(e){if(0!==e.data.code)return Promise.reject(e.data.msg);t.$msgbox({type:"success",message:"提交成功"}),t.handleReset()})).catch((function(e){t.$msgbox({type:"error",message:e})}))}}))},handleReset:function(){this.$refs["form"].resetField()}}},We=Ve,Ye=(a("41f87"),Object(l["a"])(We,Qe,Ke,!1,null,"e0889e72",null)),Ze=Ye.exports,ta={name:"Application",components:{record:Xe,edit:Ze},data:function(){return{}},methods:{recordClick:function(t){"1"===t.paneName&&this.$refs.record.getData()}}},ea=ta,aa=(a("e22e"),Object(l["a"])(ea,Re,Ee,!1,null,"9b3b32e2",null)),ra=aa.exports,na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-width wrap"},[a("el-tabs",{staticStyle:{height:"200px"},attrs:{"tab-position":"left tabs"}},[a("el-tab-pane",{attrs:{label:"我的信息"}},[a("Information")],1),a("el-tab-pane",{attrs:{label:"我的收藏"}},[a("collect")],1),a("el-tab-pane",{attrs:{label:"修改密码"}},[a("modifyPassword")],1),a("el-tab-pane",{attrs:{label:"施肥记录"}},[a("shifei")],1),a("el-tab-pane",{attrs:{label:"打药记录"}},[a("dayao")],1)],1)],1)},ia=[],sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"collect"},[a("ArticlePage",{attrs:{list:t.articleList,title:"病虫防治",total:t.query.total,"current-page":t.query.currentPage},on:{"current-change":t.handleCurrentChange}})],1)},oa=[],la={name:"collect",components:{ArticlePage:Jt},data:function(){return{query:{total:100,currentPage:1},articleList:[{id:"234224",title:"收藏的文章",author:"zzzzzyyyy",createTime:"2020-03-20 22:22:22"},{id:"234234",title:"收藏的文章",author:"zzzzzyyyy",createTime:"2020-03-20 22:22:22"}]}},created:function(){},methods:{getData:function(){var t=this;ct.getMyCollect(this.query).then((function(e){t.articleList=e.data})).catch((function(e){t.$msgbox({type:"error",message:e})}))},handleCurrentChange:function(){this.getData()}}},ca=la,ua=(a("56e9"),Object(l["a"])(ca,sa,oa,!1,null,"e2387488",null)),da=ua.exports,ma=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("el-form",{ref:"form",attrs:{model:t.formData,disabled:t.disabled,"label-width":"60px","label-position":"left"}},[a("el-form-item",{attrs:{prop:"name",label:"姓名:",rules:t.rules.name}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入姓名"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{prop:"phone",label:"电话:",rules:t.rules.phone}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入电话"},model:{value:t.formData.phone,callback:function(e){t.$set(t.formData,"phone",e)},expression:"formData.phone"}})],1),a("el-form-item",{attrs:{prop:"cardID",label:"身份证:",rules:t.rules.oldPasscardIDword}},[a("el-input",{staticClass:"input",attrs:{placeholder:"请输入身份证，用于密码找回"},model:{value:t.formData.cardID,callback:function(e){t.$set(t.formData,"cardID",e)},expression:"formData.cardID"}})],1)],1),a("div",{staticClass:"footer"},[t.disabled?a("el-button",{attrs:{type:"primary"},on:{click:t.handleModify}},[t._v("修改")]):[a("el-button",{attrs:{type:"primary"},on:{click:t.handleSave}},[t._v("确定")]),a("el-button",{on:{click:t.reset}},[t._v("重置")])]],2)],1)},fa=[],pa={name:"modifyPassword",data:function(){var t=function(t,e,a){e||a();var r=/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/;r.test(e)?a():a(new Error("身份证格式不对"))},e=function(t,e,a){e||a();var r=/^(^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$)|(^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[Xx])$)$/;r.test(e)?a():a(new Error("电话格式不对"))};return{disabled:!0,formData:{name:null,phone:null,cardID:null},rules:{name:[{message:"请输入6-10位长度的姓名",min:2,max:10,trigger:"change"}],phone:[{validator:t,trigger:"change"}],cardID:[{validator:e,trigger:"change"}]}}},methods:{handleSave:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return!1;t.disabled=!0,ct.modifyPassword()}))},reset:function(){this.$refs.form.resetField()},handleModify:function(){this.disabled=!1}}},ha=pa,ga=(a("a539"),Object(l["a"])(ha,ma,fa,!1,null,"6f22413c",null)),va=ga.exports,ba=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("el-form",{attrs:{model:t.formData,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{prop:"oldPassword",label:"原来的密码",rules:t.rules.oldPassword}},[a("el-input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入原来的密码"},model:{value:t.formData.oldPassword,callback:function(e){t.$set(t.formData,"oldPassword",e)},expression:"formData.oldPassword"}})],1),a("el-form-item",{attrs:{prop:"newPassword",label:"新密码",rules:t.rules.oldPassword}},[a("el-input",{staticClass:"input",attrs:{type:"password",placeholder:"请输入新的密码"},model:{value:t.formData.newPassword,callback:function(e){t.$set(t.formData,"newPassword",e)},expression:"formData.newPassword"}})],1),a("el-form-item",{attrs:{prop:"newPassword2",label:"确认新密码",rules:t.rules.oldPassword}},[a("el-input",{staticClass:"input",attrs:{type:"password",placeholder:"请再次输入新的密码"},model:{value:t.formData.newPassword2,callback:function(e){t.$set(t.formData,"newPassword2",e)},expression:"formData.newPassword2"}})],1)],1),a("div",{staticClass:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleModifyPassword}},[t._v("修改")]),a("el-button",{on:{click:t.reset}},[t._v("重置")])],1)],1)},ya=[],Ca={name:"modifyPassword",data:function(){return{formData:{oldPassword:null,newPassword:null,newPassword2:null},rules:{oldPassword:[{required:!0,message:"请输入6-18位长度的密码",min:6,max:18,trigger:"change"}]}}},methods:{handleModifyPassword:function(){var t=this;this.$refs.form.validate((function(e){if(!e)return!1;t.formData.newPassword===t.formData.newPassword2?ct.modifyPassword():t.$message.error("两次输入的密码不一致")}))},reset:function(){this.$refs.form.resetField()}}},Da=Ca,wa=(a("c76b"),Object(l["a"])(Da,ba,ya,!1,null,"1f6fc2ad",null)),xa=wa.exports,_a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},$a=[],ka={name:"shifei",data:function(){return{}}},Aa=ka,Sa=Object(l["a"])(Aa,_a,$a,!1,null,"d34ef866",null),Pa=Sa.exports,La=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},ja=[],Oa={name:"dayao",data:function(){return{}}},Ia=Oa,Ra=Object(l["a"])(Ia,La,ja,!1,null,"f2a68142",null),Ea=Ra.exports,qa={name:"Application",components:{collect:da,Information:va,modifyPassword:xa,dayao:Ea,shifei:Pa},data:function(){return{}}},za=qa,Fa=(a("b91e"),Object(l["a"])(za,na,ia,!1,null,"0b2a2e98",null)),Na=Fa.exports;r["default"].use(f["a"]);var Ua=[{path:"/",component:A,redirect:"/home",children:[{path:"/home",component:N},{path:"/articleSearch",component:jt},{path:"/ArticleDetail/:type/:id",props:!0,component:zt},{path:"/notice",component:Kt},{path:"/Summary",component:ee},{path:"/bingchongArticle",component:oe},{path:"/zaipeiArticle",component:fe},{path:"/ArticlePublish",component:De},{path:"/ArticleManage",component:Ae},{path:"/ArticleReedit/:type/:id",props:!0,component:Ie},{path:"/Application",component:ra},{path:"/Mine",component:Na}]},{path:"/login",component:ft},{path:"/register",component:yt}],Ta=new f["a"]({routes:Ua}),Ma=Ta;a("b339"),a("9f54");r["default"].use(m.a),r["default"].config.productionTip=!1,new r["default"]({router:Ma,store:st,render:function(t){return t(u)}}).$mount("#app")},"56e9":function(t,e,a){"use strict";var r=a("206f"),n=a.n(r);n.a},"591a":function(t,e,a){},"59f8":function(t,e,a){"use strict";var r=a("d65c"),n=a.n(r);n.a},"5a1e":function(t,e,a){"use strict";var r=a("f068"),n=a.n(r);n.a},"5afd":function(t,e,a){},"654c":function(t,e,a){},"68d1":function(t,e,a){},"6c57":function(t,e,a){"use strict";var r=a("c213"),n=a.n(r);n.a},"70d9":function(t,e,a){"use strict";var r=a("68d1"),n=a.n(r);n.a},"721b":function(t,e,a){"use strict";var r=a("1f89"),n=a.n(r);n.a},"85ec":function(t,e,a){},"9a68":function(t,e,a){},"9f54":function(t,e,a){},a1d0:function(t,e,a){"use strict";var r=a("591a"),n=a.n(r);n.a},a539:function(t,e,a){"use strict";var r=a("c123"),n=a.n(r);n.a},ac1c:function(t,e,a){},b145:function(t,e,a){},b272:function(t,e,a){},b339:function(t,e,a){},b91e:function(t,e,a){"use strict";var r=a("2185"),n=a.n(r);n.a},baee:function(t,e,a){},c123:function(t,e,a){},c213:function(t,e,a){},c76b:function(t,e,a){"use strict";var r=a("2ae3"),n=a.n(r);n.a},cd8d:function(t,e,a){},d65c:function(t,e,a){},d8cb:function(t,e,a){"use strict";var r=a("654c"),n=a.n(r);n.a},df51:function(t,e,a){"use strict";var r=a("fd73"),n=a.n(r);n.a},e22e:function(t,e,a){"use strict";var r=a("2d6e"),n=a.n(r);n.a},e967:function(t,e,a){"use strict";var r=a("baee"),n=a.n(r);n.a},ea76:function(t,e,a){},f068:function(t,e,a){},fd73:function(t,e,a){}});
//# sourceMappingURL=app.440d3c35.js.map